<!-- https://common-verdant-boa.glitch.me --> 
<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="manifest" href="/manifest.json">
        <meta name="theme-color" content="#000000">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>WebRTC P2P Chat</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    
<body>

    <div id="chatScreen" class="hidden">
    
        <header>
            <h1>WebRTC P2P Chat</h1>
        </header>

        <div class="controls">
            <div class="id-section">
                <button id="generateIdButton">Generate Peer ID</button>
                <span>Your Peer ID:</span> <span id="peerIdDisplay">Not Connected</span>
            </div>
            <input type="text" id="peerId" placeholder="Enter Peer ID" />
            <button id="connectButton">Connect</button>
            <button id="disconnectButton" disabled>Disconnect</button>
        </div>

        <div class="status-bar">
            <h3 style="margin:0;">Connection Status: <span id="connectionStatus">Not Connected</span></h3>
        </div>

        <div id="chatLog"></div>

        <div id="replyIndicator" style="display: none;"></div>
        <div id="replyPos" style="display: flex;"></div>

        <div id="chatBox">
            
            <textarea id="chatInput" placeholder="Type a message..." disabled></textarea>
            
            <input type="file" id="imageInput" accept="image/*" style="display: none;" />
            <label for="imageInput" id="customFileButton">
                <img src="../icons/gallery.png" alt="Choose Image" id="imageLogo" />
            </label>

            <div id="imagePreviewContainer">
                <img id="imagePreview" src="" alt="Preview" style="display: none; max-width: 200px; max-height: 200px; margin-top: 10px;" />
            </div>
            <button id="sendButton" disabled>Send</button>
        </div>
    
    </div>

    <script src="https://cdn.socket.io/4.5.1/socket.io.min.js"> </script>
    <script src="main.js"> </script>

</body>
</html>
